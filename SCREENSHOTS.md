# 截图功能说明

## 功能概述

当好友数量发生变化时，系统会自动保存页面截图，方便查看变化时的页面状态。

## 功能特性

### 自动截图
- **触发条件**: 成员数量或好友请求数量发生变化时
- **保存位置**: `screenshots/` 目录
- **文件命名**: `account_{账户ID}_{变化类型}_{时间戳}.png`

### 变化检测
- 系统会记录每次检查的数量，与上次比较
- 如果数量发生变化，会自动保存截图
- 支持成员数量和好友请求数量的变化检测

### 文件命名规则

1. **初始截图**: `account_1_initial_20240123_143022.png`
2. **变化截图**: `account_1_member_+2_request_+1_20240123_143122.png`
   - `member_+2`: 成员数量增加2个
   - `request_+1`: 好友请求增加1个
3. **手动截图**: `account_1_manual_20240123_143222.png`

## 使用方法

### 自动截图
开始监控后，系统会自动检测变化并保存截图，无需手动操作。

### 手动截图
1. 在Web界面中，点击对应账户的"截图"按钮
2. 系统会立即保存当前页面截图
3. 弹出消息显示截图保存路径

### API调用
```bash
curl -X POST http://localhost:8000/api/accounts/{account_id}/screenshot
```

## 截图设置

- **截图格式**: PNG
- **截图模式**: 全页面截图（包含滚动区域）
- **保存目录**: `screenshots/`（自动创建）

## 注意事项

1. 确保系统有足够的磁盘空间存储截图
2. 截图文件可能较大，建议定期清理旧截图
3. 浏览器必须处于可访问状态才能截图
4. 暂停监控时保留计数记录，恢复时继续比较

## 故障排除

- **截图失败**: 检查浏览器是否正常运行
- **文件无法保存**: 检查screenshots目录权限
- **截图为空**: 确认页面已完全加载